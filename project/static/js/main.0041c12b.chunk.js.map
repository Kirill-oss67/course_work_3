{"version":3,"sources":["pages/movie/Movie.module.scss","components/menu/Menu.module.scss","components/movieCard/MovieCard.module.scss","pages/homepage/Homepage.module.scss","components/header/Header.module.scss","pages/profile/Profile.module.scss","components/button/Button.module.scss","pages/register/Register.module.scss","pages/login/Login.module.scss","components/checkbox/Checkbox.module.scss","pages/list/List.module.scss","components/heading/Heading.module.scss","components/movieCardSet/MovieCardSet.module.scss","components/tag/Tag.module.scss","components/loader/Loader.module.scss","components/input/Input.module.scss","components/select/Select.module.scss","components/header/Header.js","components/heading/Heading.js","utils/cookies.js","api/api.js","api/genres.js","api/movies.js","api/directors.js","components/movieCard/MovieCard.js","utils/utils.js","components/movieCardSet/MovieCardSet.js","components/tag/Tag.js","components/loader/Loader.js","pages/homepage/Homepage.js","components/input/Input.js","components/button/Button.js","api/user.js","utils/token.js","api/auth.js","components/select/Select.js","pages/profile/Profile.js","api/requests.js","components/checkbox/Checkbox.js","pages/register/Register.js","pages/login/Login.js","pages/list/List.js","pages/movie/Movie.js","components/menu/Menu.js","App.js","index.js"],"names":["module","exports","Header","title","subtitle","type","className","cn","styles","Header__secondary","Header__title","Header__subtitle","Heading","label","setCookie","name","value","options","path","expires","toUTCString","updatedCookie","encodeURIComponent","optionKey","hasOwnProperty","optionValue","document","cookie","getCookie","parts","split","length","pop","shift","deleteCookie","date","Date","setTime","getTime","axios","create","baseURL","headers","Authorization","getGenres","API","get","getGenre","id","getMovies","query","getDirector","MovieCard","img","rating","year","to","MovieCard__image","src","alt","MovieCard__title","MovieCard__additional","MovieCard__rating","MovieCard__year","getYoutubePreview","url","movieYID","replace","MovieCardSet","movies","limit","sortedArray","slice","map","movie","trailer","Tag","Loader","Homepage","useState","loading","content","genres","setGenres","setMovies","directors","setDirectors","useEffect","a","data","Homepage__movieSet","Homepage__tagSet","genre","Input","placeholder","onChange","Button","onClick","Button_type_dark","Button_type_light","getFavorites","tokenChecker","error","accessToken","refreshToken","response","status","console","log","access_token","refresh_token","put","then","res","location","reload","catch","window","Select","selected","disabled","option","Profile","setName","surname","setSurname","setGenre","old","new","password","setPassword","email","setEmail","profileUpdater","favourite_genre","Profile__email","Profile__form","e","target","patch","Profile__heading","old_password","new_password","alert","message","authorization","login","onError","post","Checkbox","Path","viewBox","d","Register","setLogin","undefined","errorMsg","setErrorMsg","Register__form","Register__message","Login","Login__form","Login__message","List","useParams","state","setState","filter","Number","director","List__cards","Movie","setMovie","isBookmarked","setIsBookmarked","find","item","getMovie","Cover","Cover__information","Cover__title","Cover__data","Cover__layer","Movie__wrapper","Movie__description","description","Movie__actions","open","movie_id","delete","setFavorites","Movie__selection","Menu","navigate","useNavigate","isOpen","setIsOpen","toggleMenu","Menu__button","Menu__back","xmlns","width","height","fill","Menu__panel","Menu__link","App","basename","process","element","ReactDOM","render","StrictMode","getElementById"],"mappings":"yHACAA,EAAOC,QAAU,CAAC,mBAAqB,kCAAkC,eAAiB,8BAA8B,eAAiB,8BAA8B,iBAAmB,gCAAgC,MAAQ,qBAAqB,aAAe,4BAA4B,mBAAqB,kCAAkC,aAAe,4BAA4B,YAAc,6B,gBCAlZD,EAAOC,QAAU,CAAC,KAAO,mBAAmB,aAAe,2BAA2B,WAAa,yBAAyB,YAAc,0BAA0B,WAAa,2B,iBCAjLD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,iBAAmB,oCAAoC,iBAAmB,oCAAoC,sBAAwB,yCAAyC,kBAAoB,qCAAqC,gBAAkB,qC,iBCArTD,EAAOC,QAAU,CAAC,SAAW,2BAA2B,mBAAqB,qCAAqC,iBAAmB,qC,gBCArID,EAAOC,QAAU,CAAC,OAAS,uBAAuB,kBAAoB,kCAAkC,cAAgB,8BAA8B,iBAAmB,mC,gBCAzKD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,cAAgB,+BAA+B,iBAAmB,kCAAkC,eAAiB,kC,qBCA1KD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,kBAAoB,kCAAkC,iBAAmB,mC,gBCA3HD,EAAOC,QAAU,CAAC,SAAW,2BAA2B,eAAiB,iCAAiC,kBAAoB,sC,gBCA9HD,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,YAAc,2BAA2B,eAAiB,gC,iBCAzGD,EAAOC,QAAU,CAAC,SAAW,2BAA2B,KAAO,uBAAuB,OAAS,2B,gBCA/FD,EAAOC,QAAU,CAAC,KAAO,mBAAmB,YAAc,4B,yBCA1DD,EAAOC,QAAU,CAAC,QAAU,2B,iBCA5BD,EAAOC,QAAU,CAAC,aAAe,qC,gBCAjCD,EAAOC,QAAU,CAAC,IAAM,mB,gBCAxBD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,gBAAgB,gC,gBCAlED,EAAOC,QAAU,CAAC,MAAQ,uB,gBCA1BD,EAAOC,QAAU,CAAC,OAAS,yB,kQCWZC,EATO,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,MAAOC,EAAqB,EAArBA,SAAUC,EAAW,EAAXA,KACxC,OACE,sBAAKC,UAAWC,IAAGC,IAAON,OAAR,eAAkBM,IAAOC,kBAA6B,cAATJ,IAA/D,UACE,qBAAKC,UAAWE,IAAOE,cAAvB,SAAuCP,IACvC,qBAAKG,UAAWE,IAAOG,iBAAvB,SAA0CP,Q,iBCGjCQ,EARQ,SAAC,GAAe,IAAbC,EAAY,EAAZA,MACxB,OACE,qBAAKP,UAAWE,IAAOI,QAAvB,SACGC,K,yBCLA,SAASC,EAAUC,EAAMC,EAAOC,IACrCA,EAAO,aACLC,KAAM,KACHD,IAGOE,SAAWF,EAAQE,QAAQC,cACrCH,EAAQE,QAAUF,EAAQE,QAAQC,eAGpC,IAAIC,EAAgBC,mBAAmBP,GAAQ,IAAMO,mBAAmBN,GAExE,IAAK,IAAMO,KAAaN,EACtB,GAAIA,EAAQO,eAAeD,GAAY,CACrCF,GAAiB,KAAOE,EACxB,IAAME,EAAcR,EAAQM,IACR,IAAhBE,IACFJ,GAAiB,IAAMI,GAK7BC,SAASC,OAASN,EAGb,SAASO,EAAUb,GACxB,IACMc,GADQ,KAAOH,SAASC,QACVG,MAAM,KAAOf,EAAO,KAExC,GAAqB,IAAjBc,EAAME,OACR,OAAOF,EAAMG,MAAMF,MAAM,KAAKG,QAI3B,SAASC,EAAanB,GAC3B,IAAMoB,EAAO,IAAIC,KACjBD,EAAKE,QAAQF,EAAKG,WAAc,GAChCZ,SAASC,OAASZ,EAAK,cAAcoB,EAAKf,cAAc,WClC3CmB,UAAMC,OAAO,CAC1BC,QAAQ,yBAERC,QAAS,CACPC,cAAe,UAAYf,EAAU,kBCL5BgB,EAAY,kBAAMC,EAAIC,IAAJ,aAClBC,EAAW,SAACC,GAAD,OAAQH,EAAIC,IAAJ,kBAAmBE,EAAnB,OCDnBC,EAAY,SAACC,GAAD,OAAWL,EAAIC,IAAJ,kBAAmBI,EAAQ,IAAMA,EAAQ,MCChEC,EAAc,SAACH,GAAD,OAAQH,EAAIC,IAAJ,qBAAsBE,EAAtB,O,kCCmBpBI,EAnBU,SAAC,GAAsC,IAApCJ,EAAmC,EAAnCA,GAAIK,EAA+B,EAA/BA,IAAKlD,EAA0B,EAA1BA,MAAOmD,EAAmB,EAAnBA,OAAQC,EAAW,EAAXA,KAElD,OACE,eAAC,IAAD,CACEjD,UAAWE,IAAO4C,UAClBI,GAAI,UAAYR,EAFlB,UAIE,qBAAK1C,UAAWE,IAAOiD,iBAAvB,SACE,qBAAKC,IAAKL,EAAKM,IAAI,mBAErB,qBAAKrD,UAAWE,IAAOoD,iBAAvB,SAA0CzD,IAC1C,sBAAKG,UAAWE,IAAOqD,sBAAvB,UACE,mBAAGvD,UAAWE,IAAOsD,kBAArB,SAAyCR,IACzC,mBAAGhD,UAAWE,IAAOuD,gBAArB,SAAuCR,WChBlCS,EAAoB,SAACC,GAChC,IAAMC,EAAWD,EAAIE,QAAQ,mCAAoC,IACjE,MAAM,8BAAN,OAAqCD,EAArC,WCuBaE,EArBa,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,OAAQC,EAAY,EAAZA,MAE/BC,EAAcD,EAAQD,EAAOG,MAAM,EAAGF,GAASD,EAErD,OACE,qBAAK/D,UAAWE,IAAO4D,aAAvB,SACGG,EAAYE,KAAI,SAAAC,GAAK,OACpB,cAAC,EAAD,CAEE1B,GAAI0B,EAAM1B,GACVK,IAAKW,EAAkBU,EAAMC,SAC7BxE,MAAOuE,EAAMvE,MACbmD,OAAQoB,EAAMpB,OACdC,KAAMmB,EAAMnB,MALPmB,EAAM1B,U,iBCGN4B,EAZI,SAAC,GAAyB,IAAvB5B,EAAsB,EAAtBA,GAAInC,EAAkB,EAAlBA,MAAOR,EAAW,EAAXA,KAC/B,OACE,cAAC,IAAD,CACEC,UAAWE,IAAOoE,IAClBpB,GAAE,WAAMnD,EAAN,YAAc2C,GAFlB,SAIGnC,K,iBCHQgE,EAJO,kBACpB,qBAAKvE,UAAWE,IAAOqE,UCQZC,EAAW,WACtB,MAA4BC,mBAAS,CAACC,SAAS,EAAMC,QAAS,KAA9D,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAA4BJ,mBAAS,CAACC,SAAS,EAAMC,QAAS,KAA9D,mBAAOZ,EAAP,KAAee,EAAf,KACA,EAAkCL,mBAAS,CAACC,SAAS,EAAMC,QAAS,KAApE,mBAAOI,EAAP,KAAkBC,EAAlB,KAmBA,OAjBAC,qBAAU,WACR,sBAAC,8BAAAC,EAAA,sEACwB5C,IADxB,gBACS6C,EADT,EACSA,KACRN,EAAU,CAACH,SAAS,EAAOC,QAASQ,IAFrC,0CAAD,GAKA,sBAAC,8BAAAD,EAAA,sEACwBvC,EAAU,cADlC,gBACSwC,EADT,EACSA,KACRL,EAAU,CAACJ,SAAS,EAAOC,QAASQ,IAFrC,0CAAD,GAKA,sBAAC,8BAAAD,EAAA,sENzB6B3C,EAAIC,IAAJ,eMyB7B,gBACS2C,EADT,EACSA,KACRH,EAAa,CAACN,SAAS,EAAOC,QAASQ,IAFxC,0CAAD,KAIC,IAGD,sBAAKnF,UAAWE,IAAOsE,SAAvB,UACE,cAAC,EAAD,CACE3E,MAAM,aACNC,SAAS,qFAGX,sBAAKE,UAAWE,IAAOkF,mBAAvB,UACE,cAAC,EAAD,CAAS7E,MAAM,+CACdwD,EAAOW,SAAW,cAAC,EAAD,IACnB,cAAC,EAAD,CACEX,OAAQA,EAAOY,QACfX,MAAO,OAIX,sBAAKhE,UAAWE,IAAOmF,iBAAvB,UACE,cAAC,EAAD,CAAS9E,MAAM,mCACdqE,EAAOF,SAAW,cAAC,EAAD,IAClBE,EAAOD,QAAQR,KAAI,SAAAmB,GAAK,OACvB,cAAC,EAAD,CAEE5C,GAAI4C,EAAM5C,GACVnC,MAAO+E,EAAM7E,KACbV,KAAK,SAHAuF,EAAM5C,UAQjB,sBAAK1C,UAAWE,IAAOmF,iBAAvB,UACE,cAAC,EAAD,CAAS9E,MAAM,2DACdwE,EAAUL,SAAW,cAAC,EAAD,IACrBK,EAAUJ,QAAQR,KAAI,SAAAmB,GAAK,OAC1B,cAAC,EAAD,CAEE5C,GAAI4C,EAAM5C,GACVnC,MAAO+E,EAAM7E,KACbV,KAAK,YAHAuF,EAAM5C,c,kCCnDR6C,GAdM,SAAC,GAA4C,IAA1C7E,EAAyC,EAAzCA,MAAOX,EAAkC,EAAlCA,KAAMyF,EAA4B,EAA5BA,YAAaC,EAAe,EAAfA,SAEhD,OACE,qBAAKzF,UAAWE,IAAOqF,MAAvB,SACE,uBACExF,KAAMA,EACNW,MAAOA,EACP8E,YAAaA,EACbC,SAAUA,O,oBCIHC,GAXO,SAAC,GAA8B,IAA5B3F,EAA2B,EAA3BA,KAAMQ,EAAqB,EAArBA,MAAOoF,EAAc,EAAdA,QACpC,OACE,wBACE3F,UAAWC,IAAGC,KAAOwF,OAAiB,SAAT3F,EAAkBG,KAAO0F,iBAAmB1F,KAAO2F,mBAChFF,QAASA,EAFX,SAIGpF,KCHMuF,GAAe,kBAAMvD,EAAIC,IAAJ,uBCHrBuD,GAAe,SAACC,GAAW,IAAD,ECCXb,EDApBc,EAAc3E,EAAU,eACxB4E,EAAe5E,EAAU,gBAEC,OAAvB,OAAL0E,QAAK,IAALA,GAAA,UAAAA,EAAOG,gBAAP,eAAiBC,SAAkBH,GAAeC,GACpDG,QAAQC,IAAI,4BCJYnB,EDKZ,CAACoB,aAAcN,EAAaO,cAAeN,GCLtB3D,EAAIkE,IAAJ,eAAwBtB,IDMtDuB,MAAK,SAAAC,GACJnG,EAAU,cAAemG,EAAIxB,KAAKoB,aAAc,CAAE,UAAW,SAC7D/F,EAAU,eAAgBmG,EAAIxB,KAAKqB,cAAe,CAAE,UAAW,SAC/DpF,SAASwF,SAASC,YAEnBC,OAAM,SAAAd,GACLK,QAAQL,MAAM,6BAA8BA,EAAMG,UAClDY,OAAOH,SAAW,cAGtBP,QAAQL,MAAM,yBAA0BA,EAAMG,UAC9CY,OAAOH,SAAW,W,oBEAPI,GAnBO,SAAC,GAAqC,IAAnCrG,EAAkC,EAAlCA,QAASsG,EAAyB,EAAzBA,SAAUxB,EAAe,EAAfA,SAE1C,OACE,qBAAKzF,UAAWE,KAAO8G,OAAvB,SACE,yBAAQvB,SAAUA,EAAlB,UACE,wBAAQyB,UAAU,EAAMxG,MAAO,KAAMuG,UAAWA,EAAhD,qEACCtG,GAAWA,EAAQc,OAAS,GAAKd,EAAQwD,KAAI,SAAAgD,GAAM,OAClD,wBACEF,SAAUE,EAAOzE,KAAOuE,EACxBvG,MAAOyG,EAAOzE,GAFhB,SAIGyE,EAAO1G,gBCoHL2G,GAvHQ,WACrB,MAAwB3C,mBAAS,IAAjC,mBAAOhE,EAAP,KAAa4G,EAAb,KACA,EAA8B5C,mBAAS,IAAvC,mBAAO6C,EAAP,KAAgBC,EAAhB,KACA,EAA0B9C,mBAAS,IAAnC,mBAAOa,EAAP,KAAckC,EAAd,KACA,EAA4B/C,mBAAS,IAArC,mBAAOG,EAAP,KAAeC,EAAf,KACA,EAAgCJ,mBAAS,CAACgD,IAAK,GAAIC,IAAK,KAAxD,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAA0BnD,mBAAS,IAAnC,mBAAOoD,EAAP,KAAcC,EAAd,KAEA7C,qBAAU,WJhBiB1C,EAAIC,IAAJ,UIkBtBkE,MAAK,SAAAC,GAAG,OAAIoB,EAAepB,EAAIxB,SAC/B2B,OAAM,SAAAd,GAAK,OAAID,GAAaC,MAE/B1D,IACGoE,MAAK,SAAAC,GAAG,OAAI9B,EAAU8B,EAAIxB,SAC1B2B,OAAM,SAAAd,GACLK,QAAQC,IAAIN,EAAMG,eAErB,IAEHlB,qBAAU,WACRoB,QAAQC,IAAI1B,KACX,CAACA,IAEJ,IAAMmD,EAAiB,SAAC5C,GACtB2C,EAAS3C,EAAK0C,OAAS,IACvBR,EAAQlC,EAAK1E,MAAQ,IACrB8G,EAAWpC,EAAKmC,SAAW,IAC3BE,EAASrC,EAAK6C,iBAAmB,KA6BnC,OACE,sBAAKhI,UAAWE,IAAOkH,QAAvB,UAEE,cAAC,EAAD,CACEvH,MAAM,gEACNC,SAAS,aACTC,KAAK,cAEP,qBAAKC,UAAWE,IAAO+H,eAAvB,SAAwCJ,IAExC,sBAAK7H,UAAWE,IAAOgI,cAAvB,UACE,cAAC,GAAD,CACEnI,KAAK,OACLW,MAAOD,EACP+E,YAAY,qBACZC,SAAU,SAAC0C,GAAD,OAAOd,EAAQc,EAAEC,OAAO1H,UAEpC,cAAC,GAAD,CACEX,KAAK,OACLW,MAAO4G,EACP9B,YAAY,6CACZC,SAAU,SAAC0C,GAAD,OAAOZ,EAAWY,EAAEC,OAAO1H,UAGvC,cAAC,GAAD,CACEC,QAASiE,EACTqC,SAAU3B,EACVG,SAAU,SAAC0C,GACTX,EAASW,EAAEC,OAAO1H,UAItB,cAAC,GAAD,CACEH,MAAM,yDACNoF,QAjDoB,WJjDJ,IAACR,KIkDZ,uCACL1E,GAAQ,CAACA,KAAMA,IACf6G,GAAW,CAACA,QAASA,IACrBhC,GAAS,CAAC0C,gBAAiB1C,IJrDD/C,EAAI8F,MAAJ,SAAoBlD,IIuDjDuB,MAAK,SAAAC,GACJoB,EAAepB,EAAIxB,MACnB4B,OAAOH,SAAW,OAEnBE,OAAM,SAAAd,GACLK,QAAQC,IAAIN,EAAMG,gBAyClB,qBAAKnG,UAAWE,IAAOoI,iBAAvB,6FAEA,cAAC,GAAD,CACEvI,KAAK,WACLW,MAAOiH,EAASF,IAChBjC,YAAY,4EACZC,SAAU,SAAC0C,GAAD,OAAOP,EAAY,CAACF,IAAKC,EAASD,IAAKD,IAAKU,EAAEC,OAAO1H,WAGjE,cAAC,GAAD,CACEX,KAAK,WACLW,MAAOiH,EAASD,IAChBlC,YAAY,sEACZC,SAAU,SAAC0C,GAAD,OAAOP,EAAY,CAACF,IAAKS,EAAEC,OAAO1H,MAAO+G,IAAKE,EAASF,SAGnE,cAAC,GAAD,CACElH,MAAM,yDACNoF,QAjFqB,WJrCG,IAACR,KIsCX,CAACoD,aAAcZ,EAASF,IAAKe,aAAcb,EAASD,KJtChCnF,EAAIkE,IAAJ,kBAA2BtB,IIuChEuB,MAAK,SAAAC,GACJ8B,MAAM,8HACN1B,OAAOH,SAAW,OAEnBE,OAAM,SAAAd,GACLyC,MAAMzC,EAAMG,SAAShB,KAAKuD,sB,oBC7CrBC,GAAgB,SAACC,EAAOjB,EAAUkB,GHDvB,IAAC1D,KGEd,CAAC0C,MAAOe,EAAOjB,SAAUA,GHFFpF,EAAIuG,KAAJ,eAAyB3D,IGGtDuB,MAAK,SAAAC,GACJnG,EAAU,cAAemG,EAAIxB,KAAKoB,aAAc,CAAE,UAAW,SAC7D/F,EAAU,eAAgBmG,EAAIxB,KAAKqB,cAAe,CAAE,UAAW,SAC/DO,OAAOH,SAAW,OAEnBE,OAAM,SAAAd,GAAU,IAAD,QACdK,QAAQL,MAAR,UAAcA,EAAMG,gBAApB,iBAAc,EAAgBhB,YAA9B,aAAc,EAAsBuD,SACpCG,EAAO,UAAC7C,EAAMG,gBAAP,iBAAC,EAAgBhB,YAAjB,aAAC,EAAsBuD,a,oBCErBK,GAZS,SAAC,GAAyB,IAAvBxI,EAAsB,EAAtBA,MAAOkF,EAAe,EAAfA,SAChC,OACE,wBAAOzF,UAAWE,KAAO6I,SAAW,IAAM7I,KAAO8I,KAAjD,UACE,uBAAOvD,SAAUA,EAAU1F,KAAK,aAChC,qBAAKkJ,QAAQ,YAAb,SACE,sBAAMC,EAAE,gLAEV,+BAAO3I,QC6DE4I,GA9DS,WACtB,MAA0B1E,mBAAS,IAAnC,mBAAOmE,EAAP,KAAcQ,EAAd,KACA,EAAgC3E,mBAAS,IAAzC,mBAAOkD,EAAP,KAAiBC,EAAjB,KACA,EAAgCnD,wBAAS4E,GAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KAcA,OACE,sBAAKvJ,UAAWE,KAAOiJ,SAAvB,UACE,oGACA,4JAEA,sBAAKnJ,UAAWE,KAAOsJ,eAAvB,UAEGF,GACC,qBAAKtJ,UAAWE,KAAOuJ,kBAAvB,SAA2CH,IAG7C,cAAC,GAAD,CACEvJ,KAAK,OACLW,MAAOkI,EACPpD,YAAY,iCACZC,SAAU,SAAC0C,GACToB,OAAYF,GACZD,EAASjB,EAAEC,OAAO1H,UAItB,cAAC,GAAD,CACEX,KAAK,WACLW,MAAOiH,EACPnC,YAAY,uCACZC,SAAU,SAAC0C,GACToB,OAAYF,GACZzB,EAAYO,EAAEC,OAAO1H,UAIzB,cAAC,GAAD,CACEH,MAAM,oFAGR,cAAC,GAAD,CACEA,MAAM,qEACNoF,QAjDmB,WLVD,IAACR,KKWZ,CAAC0C,MAAOe,EAAOjB,SAAUA,GLXJpF,EAAIuG,KAAJ,kBAA4B3D,IKY3DuB,MAAK,WACJiC,GAAcC,EAAOjB,GAAU,SAACe,GAC9Ba,EAAYb,SAGf5B,OAAM,SAAAd,GAAU,IAAD,IACduD,EAAY,WAACvD,EAAMG,gBAAP,iBAAC,EAAgBhB,YAAjB,aAAC,EAAsBuD,uB,oBCoC5BgB,GAnDM,WACnB,MAA0BjF,mBAAS,IAAnC,mBAAOmE,EAAP,KAAcQ,EAAd,KACA,EAAgC3E,mBAAS,IAAzC,mBAAOkD,EAAP,KAAiBC,EAAjB,KACA,EAAgCnD,wBAAS4E,GAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KAQA,OACE,sBAAKvJ,UAAWE,KAAOwJ,MAAvB,UACE,gEACA,qMAEA,sBAAK1J,UAAWE,KAAOyJ,YAAvB,UAEGL,GACC,qBAAKtJ,UAAWE,KAAO0J,eAAvB,SAAwCN,IAG1C,cAAC,GAAD,CACEvJ,KAAK,OACLW,MAAOkI,EACPpD,YAAY,iCACZC,SAAU,SAAC0C,GACToB,OAAYF,GACZD,EAASjB,EAAEC,OAAO1H,UAItB,cAAC,GAAD,CACEX,KAAK,WACLW,MAAOiH,EACPnC,YAAY,uCACZC,SAAU,SAAC0C,GACToB,OAAYF,GACZzB,EAAYO,EAAEC,OAAO1H,UAIzB,cAAC,GAAD,CACEH,MAAM,iCACNoF,QAvCY,WAClBgD,GAAcC,EAAOjB,GAAU,SAACe,GAC9Ba,EAAYb,gB,oBC0DHmB,GA5DK,SAAC,GAAqB,IAAnBhK,EAAkB,EAAlBA,MAAOE,EAAW,EAAXA,KACpB2C,EAAOoH,cAAPpH,GACR,EAA0B+B,mBAAS,CAACC,SAAS,EAAMC,QAAS,KAA5D,mBAAOoF,EAAP,KAAcC,EAAd,KACA,EAA4BvF,mBAAS,CAACC,SAAS,EAAMC,QAAS,KAA9D,mBAAOZ,EAAP,KAAee,EAAf,KAuCA,OArCAG,qBAAU,WACR,OAAQlF,GACN,IAAK,QACH,sBAAC,8BAAAmF,EAAA,sEACwBzC,EAASC,GADjC,gBACSyC,EADT,EACSA,KACR6E,EAAS,CAACtF,SAAS,EAAOC,QAASQ,IAFpC,0CAAD,GAIA,sBAAC,8BAAAD,EAAA,sEACwBvC,IADxB,gBACSwC,EADT,EACSA,KACRL,EAAU,CAACJ,SAAS,EAAOC,QAASQ,EAAK8E,QAAO,SAAA7F,GAAK,OAAIA,EAAMkB,MAAM5C,KAAOwH,OAAOxH,QAFpF,0CAAD,GAIA,MAEF,IAAK,WACH,sBAAC,8BAAAwC,EAAA,sEACwBrC,EAAYH,GADpC,gBACSyC,EADT,EACSA,KACR6E,EAAS,CAACtF,SAAS,EAAOC,QAASQ,IAFpC,0CAAD,GAIA,sBAAC,8BAAAD,EAAA,sEACwBvC,IADxB,gBACSwC,EADT,EACSA,KACRL,EAAU,CAACJ,SAAS,EAAOC,QAASQ,EAAK8E,QAAO,SAAA7F,GAAK,OAAIA,EAAM+F,SAASzH,KAAOwH,OAAOxH,QAFvF,0CAAD,GAIA,MAEF,IAAK,YACH,sBAAC,8BAAAwC,EAAA,sEACwBY,KADxB,gBACSX,EADT,EACSA,KACRL,EAAU,CAACJ,SAAS,EAAOC,QAASQ,IAFrC,0CAAD,MAUH,CAACzC,EAAI3C,IAGN,sBAAKC,UAAWE,KAAO2J,KAAvB,UACE,cAAC,EAAD,CACEhK,MAAK,UAAKA,GAAL,OAAakK,EAAMpF,QAAQlE,KAAO,KAAOsJ,EAAMpF,QAAQlE,KAAO,IACnEX,SAAS,aACTC,KAAK,cAGP,sBAAKC,UAAWE,KAAOkK,YAAvB,UACGrG,EAAOW,SAAW,cAAC,EAAD,IAClBX,EAAOY,QAAQlD,OAAS,GACvB,cAAC,EAAD,CAAcsC,OAAQA,EAAOY,iB,mBCwDxB0F,GA5GM,WACnB,MAA4B5F,mBAAS,CAACC,SAAS,EAAMC,QAAS,KAA9D,mBAAOZ,EAAP,KAAee,EAAf,KACA,EAA0BL,mBAAS,CAACC,SAAS,EAAMC,QAAS,KAA5D,mBAAOP,EAAP,KAAckG,EAAd,KACA,EAAwC7F,oBAAS,GAAjD,mBAAO8F,EAAP,KAAqBC,EAArB,KACQ9H,EAAOoH,cAAPpH,GAERuC,qBAAU,WACRa,KACGY,MAAK,SAAAC,GACAA,EAAIxB,KAAKsF,MAAK,SAAAC,GAAI,OAAIA,EAAKhI,KAAOwH,OAAOxH,OAC3C8H,GAAgB,MAGnB1D,OAAM,SAAAd,GACLK,QAAQL,MAAMA,EAAMG,eAEvB,CAACzD,EAAI6H,IAERtF,qBAAU,YpB3BY,SAACvC,GAAD,OAAQH,EAAIC,IAAJ,kBAAmBE,EAAnB,OoB4B5BiI,CAASjI,GACNgE,MAAK,SAAAC,GACJ2D,EAAS,CAAC5F,SAAS,EAAOC,QAASgC,EAAIxB,UAExC2B,OAAM,SAAAd,GACLK,QAAQC,IAAIN,EAAMG,aAGtBxD,IACG+D,MAAK,SAAAC,GACJ7B,EAAU,CAACJ,SAAS,EAAOC,QAASgC,EAAIxB,UAEzC2B,OAAM,SAAAd,GACLK,QAAQC,IAAIN,EAAMG,eAErB,CAACzD,IAuBJ,OACE,sBAAK1C,UAAWE,KAAOmK,MAAvB,UACE,sBAAKrK,UAAWE,KAAO0K,MAAvB,UACE,sBAAK5K,UAAWE,KAAO2K,mBAAvB,UACE,qBAAK7K,UAAWE,KAAO4K,aAAvB,SAAsC1G,EAAMO,QAAQ9E,QACpD,sBAAKG,UAAWE,KAAO6K,YAAvB,UACE,+BAAO3G,EAAMO,QAAQ1B,OAAY,+BAAOmB,EAAMO,QAAQ3B,eAG1D,qBAAKhD,UAAWE,KAAO8K,eACtB5G,EAAMO,QAAQN,SACb,qBAAKjB,IAAKM,EAAkBU,EAAMO,QAAQN,SAAUhB,IAAI,aAI5D,sBAAKrD,UAAWE,KAAO+K,eAAvB,UACE,qBAAKjL,UAAWE,KAAOgL,mBAAvB,SACG9G,EAAMO,QAAQwG,cAGjB,sBAAKnL,UAAWE,KAAOkL,eAAvB,UACGhH,EAAMO,QAAQN,SACb,cAAC,GAAD,CACE9D,MAAM,mDACNR,KAAK,OACL4F,QAAS,WACPoB,OAAOsE,KAAKjH,EAAMO,QAAQN,QAAS,aAIxC/C,EAAU,gBACT,cAAC,GAAD,CACEf,MAAOgK,EAAe,uHAA0B,iHAChDxK,KAAK,OACL4F,QAvDW,WVxCM,IAAC2F,EUyC5Bf,GVzC4Be,EU0CV5I,EV1CuBH,EAAIgJ,OAAJ,4BAAgCD,EAAhC,OU2CpC5E,MAAK,WACJ8D,GAAgB,MAEjB1D,OAAM,SAAAd,GACLD,GAAaC,GACbK,QAAQL,MAAMA,EAAMG,aVjDF,SAACmF,GAAD,OAAc/I,EAAIuG,KAAJ,4BAA8BwC,EAA9B,MUoDpCE,CAAa9I,GACVgE,MAAK,WACJ8D,GAAgB,MAEjB1D,OAAM,SAAAd,GACLD,GAAaC,GACbK,QAAQL,MAAMA,EAAMG,mBA0CtB,sBAAKnG,UAAWE,KAAOuL,iBAAvB,UACE,cAAC,EAAD,CAASlL,MAAM,oFACf,cAAC,EAAD,CACEwD,OAAQA,EAAOY,QAAQsF,QAAO,SAAAS,GAAI,OAAIA,EAAKpF,MAAM5C,KAAO0B,EAAMO,QAAQW,MAAM5C,MAC5EsB,MAAO,c,mBCjBJ0H,GAvFK,WAClB,IAAMC,EAAWC,cACjB,EAA4BnH,oBAAS,GAArC,mBAAOoH,EAAP,KAAeC,EAAf,KAEMC,EAAa,WACjBD,GAAWD,IAUb,OACE,sBAAK7L,UAAWE,KAAOwL,KAAvB,UACE,qBACE1L,UAAWE,KAAO8L,aAClBrG,QAASoG,EAFX,SAIE,2BAEF,qBACE/L,UAAWE,KAAO+L,WAClBtG,QAAS,kBAAMgG,GAAU,IAF3B,SAIE,qBAAKO,MAAM,6BAA6BC,MAAM,KAAKC,OAAO,KAAKnD,QAAQ,YAAYoD,KAAK,OAAxF,SACE,sBAAMnD,EAAE,8IAA8ImD,KAAK,cAI9JR,GACC,sBAAK7L,UAAWE,KAAOoM,YAAvB,UAEE,cAAC,IAAD,CACE3G,QAASoG,EACT/L,UAAWE,KAAOqM,WAClBrJ,GAAG,IAHL,wDAMC5B,EAAU,gBACT,cAAC,IAAD,CACEqE,QAASoG,EACT/L,UAAWE,KAAOqM,WAClBrJ,GAAG,WAHL,wDAOD5B,EAAU,gBACX,cAAC,IAAD,CACEqE,QAASoG,EACT/L,UAAWE,KAAOqM,WAClBrJ,GAAG,aAHL,oEAOC5B,EAAU,gBACT,cAAC,IAAD,CACEqE,QAlDS,WACnBmG,GAAU,GACVlK,EAAa,eACbA,EAAa,iBAgDH5B,UAAWE,KAAOqM,WAClBrJ,GAAG,SAHL,6CAOA5B,EAAU,gBACV,cAAC,IAAD,CACEqE,QAASoG,EACT/L,UAAWE,KAAOqM,WAClBrJ,GAAG,SAHL,uCAOA5B,EAAU,gBACV,cAAC,IAAD,CACEqE,QAASoG,EACT/L,UAAWE,KAAOqM,WAClBrJ,GAAG,YAHL,uFC3CGsJ,OA5Bf,WAEE,OACE,cAAC,IAAD,CAAQC,SAAUC,GAAlB,SACE,qBAAK1M,UAAU,MAAf,SACE,sBAAKA,UAAU,eAAf,UACE,cAAC,GAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOY,KAAK,IAAI+L,QAAS,cAAC,EAAD,MAEzB,cAAC,IAAD,CAAO/L,KAAK,SAAS+L,QAAS,cAAC,GAAD,MAC9B,cAAC,IAAD,CAAO/L,KAAK,YAAY+L,QAAS,cAAC,GAAD,MAEjC,cAAC,IAAD,CAAO/L,KAAK,WAAW+L,QAAS,cAAC,GAAD,MAEhC,cAAC,IAAD,CAAO/L,KAAK,aAAa+L,QAAS,cAAC,GAAD,CAAM9M,MAAM,yDAAYE,KAAK,gBAC/D,cAAC,IAAD,CAAOa,KAAK,aAAa+L,QAAS,cAAC,GAAD,CAAM9M,MAAM,2BAAOE,KAAK,YAC1D,cAAC,IAAD,CAAOa,KAAK,gBAAgB+L,QAAS,cAAC,GAAD,CAAM9M,MAAM,mDAAWE,KAAK,eACjE,cAAC,IAAD,CAAOa,KAAK,gBAAgB+L,QAAS,cAAC,GAAD,CAAM9M,MAAM,mDAAWE,KAAK,eAEjE,cAAC,IAAD,CAAOa,KAAK,aAAa+L,QAAS,cAAC,GAAD,iBCzB9CC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEF1L,SAAS2L,eAAe,W","file":"static/js/main.0041c12b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Movie__description\":\"Movie_Movie__description__2nvzP\",\"Movie__actions\":\"Movie_Movie__actions__1HrlK\",\"Movie__wrapper\":\"Movie_Movie__wrapper__1aGW1\",\"Movie__selection\":\"Movie_Movie__selection__cFTh0\",\"Cover\":\"Movie_Cover__ZkQpw\",\"Cover__layer\":\"Movie_Cover__layer__93bDU\",\"Cover__information\":\"Movie_Cover__information__3onLJ\",\"Cover__title\":\"Movie_Cover__title__Ze48x\",\"Cover__data\":\"Movie_Cover__data__27a3m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Menu\":\"Menu_Menu__2uobS\",\"Menu__button\":\"Menu_Menu__button__1imCG\",\"Menu__back\":\"Menu_Menu__back__2OE0o\",\"Menu__panel\":\"Menu_Menu__panel__RA3I_\",\"Menu__link\":\"Menu_Menu__link__1-tGB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MovieCard\":\"MovieCard_MovieCard__1n563\",\"MovieCard__image\":\"MovieCard_MovieCard__image__1ImTH\",\"MovieCard__title\":\"MovieCard_MovieCard__title__bmHIm\",\"MovieCard__additional\":\"MovieCard_MovieCard__additional__z4-Rv\",\"MovieCard__rating\":\"MovieCard_MovieCard__rating__1S3LO\",\"MovieCard__year\":\"MovieCard_MovieCard__year__SMDsP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Homepage\":\"Homepage_Homepage__1W6vB\",\"Homepage__movieSet\":\"Homepage_Homepage__movieSet__pYVVF\",\"Homepage__tagSet\":\"Homepage_Homepage__tagSet__2OIbM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Header\":\"Header_Header__214zg\",\"Header__secondary\":\"Header_Header__secondary__2r5ZX\",\"Header__title\":\"Header_Header__title__b5jgV\",\"Header__subtitle\":\"Header_Header__subtitle__q4YTR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Profile\":\"Profile_Profile__1wblH\",\"Profile__form\":\"Profile_Profile__form__3TpJo\",\"Profile__heading\":\"Profile_Profile__heading__2QwS2\",\"Profile__email\":\"Profile_Profile__email__1fklZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__ra12g\",\"Button_type_light\":\"Button_Button_type_light__Vp_Hd\",\"Button_type_dark\":\"Button_Button_type_dark__20pF3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Register\":\"Register_Register__3KLDN\",\"Register__form\":\"Register_Register__form__1K-yI\",\"Register__message\":\"Register_Register__message__1Czhx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Login\":\"Login_Login__1VJTA\",\"Login__form\":\"Login_Login__form__3LuXA\",\"Login__message\":\"Login_Login__message__Et48p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Checkbox\":\"Checkbox_Checkbox__37z75\",\"Path\":\"Checkbox_Path__-yZUr\",\"bounce\":\"Checkbox_bounce__WRjHx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"List\":\"List_List__1ZtS4\",\"List__cards\":\"List_List__cards__1WNfw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Heading\":\"Heading_Heading__3Xje3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MovieCardSet\":\"MovieCardSet_MovieCardSet__23nmD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Tag\":\"Tag_Tag__v1FAX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__RZZ4L\",\"lds-dual-ring\":\"Loader_lds-dual-ring__3t_NV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Input\":\"Input_Input__1iN_Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Select\":\"Select_Select__1yTyD\"};","import styles from \"./Header.module.scss\";\nimport cn from \"classnames\";\n\nexport const Header = ({ title, subtitle, type }) => {\n  return (\n    <div className={cn(styles.Header, {[styles.Header__secondary]: type === \"secondary\"})}>\n      <div className={styles.Header__title}>{title}</div>\n      <div className={styles.Header__subtitle}>{subtitle}</div>\n    </div>\n  )\n};\n\nexport default Header;","import styles from \"./Heading.module.scss\";\n\nexport const Heading = ({ label }) => {\n  return (\n    <div className={styles.Heading}>\n      {label}\n    </div>\n  )\n};\n\nexport default Heading;","export function setCookie(name, value, options) {\n  options = {\n    path: '/',\n    ...options\n  };\n\n  if (options.expires && options.expires.toUTCString) {\n    options.expires = options.expires.toUTCString();\n  }\n\n  let updatedCookie = encodeURIComponent(name) + \"=\" + encodeURIComponent(value);\n\n  for (const optionKey in options) {\n    if (options.hasOwnProperty(optionKey)) {\n      updatedCookie += \"; \" + optionKey;\n      const optionValue = options[optionKey];\n      if (optionValue !== true) {\n        updatedCookie += \"=\" + optionValue;\n      }\n    }\n  }\n\n  document.cookie = updatedCookie\n}\n\nexport function getCookie(name) {\n  const value = \"; \" + document.cookie;\n  const parts = value.split(\"; \" + name + \"=\");\n\n  if (parts.length === 2) {\n    return parts.pop().split(\";\").shift();\n  }\n}\n\nexport function deleteCookie(name) {\n  const date = new Date();\n  date.setTime(date.getTime() + (-1));\n  document.cookie = name+\"=; expires=\"+date.toUTCString()+\"; path=/\";\n}","import axios from 'axios';\nimport { getCookie } from \"../utils/cookies\";\n\nexport default axios.create({\n  baseURL: `http://127.0.0.1:25000`,\n  // withCredentials: true,\n  headers: {\n    Authorization: \"Bearer \" + getCookie(\"AccessToken\")\n  }\n});\n","import API from './api';\n\nexport const getGenres = () => API.get(`/genres/`);\nexport const getGenre = (id) => API.get(`/genres/${id}/`);\n","import API from './api';\n\nexport const getMovies = (query) => API.get(`/movies/${query ? \"?\" + query : \"\"}`);\nexport const getMovie = (id) => API.get(`/movies/${id}/`);\n","import API from './api';\n\nexport const getDirectors = () => API.get(`/directors/`);\nexport const getDirector = (id) => API.get(`/directors/${id}/`);\n","import styles from \"./MovieCard.module.scss\";\nimport {Link} from \"react-router-dom\";\n\nexport const MovieCard = ({ id, img, title, rating, year }) => {\n\n  return (\n    <Link\n      className={styles.MovieCard}\n      to={\"/movie/\" + id}\n    >\n      <div className={styles.MovieCard__image}>\n        <img src={img} alt=\"Movie Poster\"/>\n      </div>\n      <div className={styles.MovieCard__title}>{title}</div>\n      <div className={styles.MovieCard__additional}>\n        <p className={styles.MovieCard__rating}>{rating}</p>\n        <p className={styles.MovieCard__year}>{year}</p>\n      </div>\n    </Link>\n  )\n}\n\nexport default MovieCard;","export const getYoutubePreview = (url) => {\n  const movieYID = url.replace(\"https://www.youtube.com/watch?v=\", \"\");\n  return `https://img.youtube.com/vi/${movieYID}/0.jpg`;\n}","import styles from \"./MovieCardSet.module.scss\";\nimport MovieCard from \"../movieCard/MovieCard\";\nimport { getYoutubePreview } from \"../../utils/utils\";\n\nexport const MovieCardSet = ({ movies, limit }) => {\n\n  const sortedArray = limit ? movies.slice(0, limit) : movies;\n\n  return (\n    <div className={styles.MovieCardSet}>\n      {sortedArray.map(movie => (\n        <MovieCard\n          key={movie.id}\n          id={movie.id}\n          img={getYoutubePreview(movie.trailer)}\n          title={movie.title}\n          rating={movie.rating}\n          year={movie.year}\n        />\n      ))}\n    </div>\n  )\n\n};\n\nexport default MovieCardSet;","import styles from \"./Tag.module.scss\";\nimport {Link} from \"react-router-dom\";\n\nexport const Tag = ({ id, label, type }) => {\n  return (\n    <Link\n      className={styles.Tag}\n      to={`/${type}/${id}`}\n    >\n      {label}\n    </Link>\n  )\n\n}\n\nexport default Tag;","import styles from \"./Loader.module.scss\";\n\nexport const Loader = () => (\n  <div className={styles.Loader} />\n);\n\nexport default Loader;\n\n","import styles from \"./Homepage.module.scss\"\nimport Header from \"../../components/header/Header\";\nimport Heading from \"../../components/heading/Heading\";\nimport { useEffect, useState } from \"react\";\nimport { getGenres } from \"../../api/genres\";\nimport { getMovies } from \"../../api/movies\";\nimport { getDirectors } from \"../../api/directors\";\nimport MovieCardSet from \"../../components/movieCardSet/MovieCardSet\";\nimport Tag from \"../../components/tag/Tag\";\nimport Loader from \"../../components/loader/Loader\";\n\nexport const Homepage = () => {\n  const [genres, setGenres] = useState({loading: true, content: []});\n  const [movies, setMovies] = useState({loading: true, content: []});\n  const [directors, setDirectors] = useState({loading: true, content: []})\n\n  useEffect(() => {\n    (async () => {\n      const { data } = await getGenres();\n      setGenres({loading: false, content: data});\n    })();\n\n    (async () => {\n      const { data } = await getMovies(\"status=new\");\n      setMovies({loading: false, content: data});\n    })();\n\n    (async () => {\n      const { data } = await getDirectors();\n      setDirectors({loading: false, content: data});\n    })();\n  }, []);\n\n  return (\n    <div className={styles.Homepage}>\n      <Header\n        title=\"Sky movies\"\n        subtitle=\"Кино в кармашке\"\n      />\n\n      <div className={styles.Homepage__movieSet}>\n        <Heading label=\"Новинки\"/>\n        {movies.loading && <Loader />}\n        <MovieCardSet\n          movies={movies.content}\n          limit={4}\n        />\n      </div>\n\n      <div className={styles.Homepage__tagSet}>\n        <Heading label=\"Жанры\"/>\n        {genres.loading && <Loader />}\n        {genres.content.map(genre => (\n          <Tag\n            key={genre.id}\n            id={genre.id}\n            label={genre.name}\n            type=\"genre\"\n          />\n        ))}\n      </div>\n\n      <div className={styles.Homepage__tagSet}>\n        <Heading label=\"Режиссёры\"/>\n        {directors.loading && <Loader />}\n        {directors.content.map(genre => (\n          <Tag\n            key={genre.id}\n            id={genre.id}\n            label={genre.name}\n            type=\"director\"\n          />\n        ))}\n      </div>\n    </div>\n  )\n}","import styles from \"./Input.module.scss\";\n\nexport const Input = ({ value, type, placeholder, onChange }) => {\n\n  return (\n    <div className={styles.Input}>\n      <input\n        type={type}\n        value={value}\n        placeholder={placeholder}\n        onChange={onChange}\n      />\n    </div>\n  )\n};\n\nexport default Input;","import styles from \"./Button.module.scss\";\nimport cn from \"classnames\";\n\nexport const Button = ({ type, label, onClick }) => {\n  return (\n    <button\n      className={cn(styles.Button, type === \"dark\" ? styles.Button_type_dark : styles.Button_type_light)}\n      onClick={onClick}\n    >\n      {label}\n    </button>\n  )\n};\n\nexport default Button;","import API from './api';\n\nexport const getUser = () => API.get(`/user/`);\nexport const updateUser = (data) => API.patch(`/user/`, data);\nexport const updateUserPassword = (data) => API.put(`/user/password/`, data);\n\nexport const getFavorites = () => API.get(`/favorites/movies/`);\nexport const setFavorites = (movie_id) => API.post(`/favorites/movies/${movie_id}/`);\nexport const deleteFavorites = (movie_id) => API.delete(`/favorites/movies/${movie_id}/`);","import { updateToken } from \"../api/auth\";\nimport { getCookie, setCookie } from \"./cookies\";\n\nexport const tokenChecker = (error) => {\n  const accessToken = getCookie(\"AccessToken\");\n  const refreshToken = getCookie(\"RefreshToken\");\n\n  if (error?.response?.status === 401 && accessToken && refreshToken) {\n    console.log(\"Trying to refresh token\");\n    updateToken({access_token: accessToken, refresh_token: refreshToken})\n      .then(res => {\n        setCookie(\"AccessToken\", res.data.access_token, { 'max-age': 3600 * 24 * 7 });\n        setCookie(\"RefreshToken\", res.data.refresh_token, { 'max-age': 3600 * 24 * 7 });\n        document.location.reload();\n      })\n      .catch(error => {\n        console.error(\"Token refresh unsuccessful\", error.response);\n        window.location = \"/login\";\n      })\n  } else {\n    console.error(\"No tokens were founded\", error.response);\n    window.location = \"/login\";\n  }\n};\n\nexport const isTokenExpired = () => {\n  console.log(getJWTData().exp, new Date()/1000)\n  return getJWTData().exp < new Date()/1000;\n};\n\nexport const getJWTData = () => {\n  const token = getCookie(\"AccessToken\");\n  const base64Url = token.split('.')[1];\n  const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n  const jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {\n    return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n  }).join(''));\n\n  return JSON.parse(jsonPayload);\n};","import API from './api';\n\nexport const authUser = (data) => API.post(`/auth/login/`, data);\nexport const registerUser = (data) => API.post(`/auth/register/`, data);\nexport const updateToken = (data) => API.put(`/auth/login/`, data);\n","import styles from \"./Select.module.scss\";\n\nexport const Select = ({ options, selected, onChange }) => {\n\n  return (\n    <div className={styles.Select}>\n      <select onChange={onChange}>\n        <option disabled={true} value={null} selected={!selected}>Не выбрано</option>\n        {options && options.length > 0 && options.map(option => (\n          <option\n            selected={option.id === selected}\n            value={option.id}\n          >\n            {option.name}\n          </option>\n        ))}\n      </select>\n    </div>\n  )\n};\n\nexport default Select;","import styles from \"./Profile.module.scss\";\nimport Header from \"../../components/header/Header\";\nimport Input from \"../../components/input/Input\";\nimport Button from \"../../components/button/Button\";\nimport { useEffect, useState } from \"react\";\nimport { getUser, updateUser, updateUserPassword } from \"../../api/user\";\nimport { tokenChecker } from \"../../utils/token\";\nimport { getGenres } from \"../../api/genres\";\nimport Select from \"../../components/select/Select\";\n\nexport const Profile = () => {\n  const [name, setName] = useState(\"\");\n  const [surname, setSurname] = useState(\"\");\n  const [genre, setGenre] = useState(\"\");\n  const [genres, setGenres] = useState(\"\");\n  const [password, setPassword] = useState({old: \"\", new: \"\"});\n  const [email, setEmail] = useState(\"\");\n\n  useEffect(() => {\n    getUser()\n      .then(res => profileUpdater(res.data))\n      .catch(error => tokenChecker(error));\n\n    getGenres()\n      .then(res => setGenres(res.data))\n      .catch(error => {\n        console.log(error.response);\n      });\n  }, []);\n\n  useEffect(() => {\n    console.log(genres);\n  }, [genres])\n\n  const profileUpdater = (data) => {\n    setEmail(data.email || \"\");\n    setName(data.name || \"\");\n    setSurname(data.surname || \"\");\n    setGenre(data.favourite_genre || \"\");\n  };\n\n  const submitPasswordChange = () => {\n    updateUserPassword( {old_password: password.old, new_password: password.new})\n      .then(res => {\n        alert('Пароль успешно изменен');\n        window.location = \"/\";\n      })\n      .catch(error => {\n        alert(error.response.data.message);\n      })\n  };\n\n  const submitProfileUpdate = () => {\n    updateUser({\n      ...(name && {name: name}),\n      ...(surname && {surname: surname}),\n      ...(genre && {favourite_genre: genre}),\n    })\n      .then(res => {\n        profileUpdater(res.data);\n        window.location = \"/\";\n      })\n      .catch(error => {\n        console.log(error.response)\n      });\n  };\n\n  return (\n    <div className={styles.Profile}>\n\n      <Header\n        title=\"Мой профиль\"\n        subtitle=\"Sky movies\"\n        type=\"secondary\"\n      />\n      <div className={styles.Profile__email}>{email}</div>\n\n      <div className={styles.Profile__form}>\n        <Input\n          type=\"text\"\n          value={name}\n          placeholder=\"Имя\"\n          onChange={(e) => setName(e.target.value)}\n        />\n        <Input\n          type=\"text\"\n          value={surname}\n          placeholder=\"Фамилия\"\n          onChange={(e) => setSurname(e.target.value)}\n        />\n\n        <Select\n          options={genres}\n          selected={genre}\n          onChange={(e) => {\n            setGenre(e.target.value)\n          }}\n        />\n\n        <Button\n          label=\"Сохранить\"\n          onClick={submitProfileUpdate}\n        />\n\n        <div className={styles.Profile__heading}>Сменить пароль</div>\n\n        <Input\n          type=\"password\"\n          value={password.old}\n          placeholder=\"Старый пароль\"\n          onChange={(e) => setPassword({new: password.new, old: e.target.value})}\n        />\n\n        <Input\n          type=\"password\"\n          value={password.new}\n          placeholder=\"Новый пароль\"\n          onChange={(e) => setPassword({new: e.target.value, old: password.old})}\n        />\n\n        <Button\n          label=\"Сохранить\"\n          onClick={submitPasswordChange}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default Profile;","import { authUser } from \"./auth\";\nimport { setCookie } from \"../utils/cookies\";\n\nexport const authorization = (login, password, onError) => {\n  authUser({email: login, password: password})\n    .then(res => {\n      setCookie(\"AccessToken\", res.data.access_token, { 'max-age': 3600 * 24 * 7 });\n      setCookie(\"RefreshToken\", res.data.refresh_token, { 'max-age': 3600 * 24 * 7 });\n      window.location = \"/\";\n    })\n    .catch(error => {\n      console.error(error.response?.data?.message);\n      onError(error.response?.data?.message);\n    });\n}","import styles from \"./Checkbox.module.scss\";\n\nexport const Checkbox = ({ label, onChange }) => {\n  return (\n    <label className={styles.Checkbox + \" \" + styles.Path}>\n      <input onChange={onChange} type=\"checkbox\" />\n      <svg viewBox=\"0 0 21 21\">\n        <path d=\"M5,10.75 L8.5,14.25 L19.4,2.3 C18.8333333,1.43333333 18.0333333,1 17,1 L4,1 C2.35,1 1,2.35 1,4 L1,17 C1,18.65 2.35,20 4,20 L17,20 C18.65,20 20,18.65 20,17 L20,7.99769186\"/>\n      </svg>\n      <span>{label}</span>\n    </label>\n  )\n};\n\nexport default Checkbox;","import styles from \"./Register.module.scss\";\nimport { useState } from \"react\";\nimport { registerUser } from \"../../api/auth\";\nimport { authorization } from \"../../api/requests\";\nimport Input from \"../../components/input/Input\";\nimport Checkbox from \"../../components/checkbox/Checkbox\";\nimport Button from \"../../components/button/Button\";\n\nexport const Register = () => {\n  const [login, setLogin] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errorMsg, setErrorMsg] = useState(undefined);\n\n  const submitRegistration = () => {\n    registerUser({email: login, password: password})\n      .then(() => {\n        authorization(login, password, (message) => {\n          setErrorMsg(message);\n        });\n      })\n      .catch(error => {\n        setErrorMsg([error.response?.data?.message]);\n      });\n  };\n\n  return (\n    <div className={styles.Register}>\n      <h1>Регистрация</h1>\n      <span>Логин, пароль и вы с нами</span>\n\n      <div className={styles.Register__form}>\n\n        {errorMsg &&\n          <div className={styles.Register__message}>{errorMsg}</div>\n        }\n\n        <Input\n          type=\"text\"\n          value={login}\n          placeholder=\"Логин\"\n          onChange={(e) => {\n            setErrorMsg(undefined);\n            setLogin(e.target.value);\n          }}\n        />\n\n        <Input\n          type=\"password\"\n          value={password}\n          placeholder=\"Пароль\"\n          onChange={(e) => {\n            setErrorMsg(undefined);\n            setPassword(e.target.value);\n          }}\n        />\n\n        <Checkbox\n          label=\"Запомнить меня\"\n        />\n\n        <Button\n          label=\"Регистрация\"\n          onClick={submitRegistration}\n        />\n\n      </div>\n    </div>\n  )\n}\n\nexport default Register;","import styles from \"./Login.module.scss\";\nimport { useState } from \"react\";\nimport Input from \"../../components/input/Input\";\nimport Button from \"../../components/button/Button\";\nimport {authorization} from \"../../api/requests\";\n\nexport const Login = () => {\n  const [login, setLogin] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errorMsg, setErrorMsg] = useState(undefined);\n\n  const submitLogin = () => {\n    authorization(login, password, (message) => {\n      setErrorMsg(message);\n    });\n  }\n\n  return (\n    <div className={styles.Login}>\n      <h1>Войти</h1>\n      <span>Помните свой пароль? Забегайте!</span>\n\n      <div className={styles.Login__form}>\n\n        {errorMsg &&\n          <div className={styles.Login__message}>{errorMsg}</div>\n        }\n\n        <Input\n          type=\"text\"\n          value={login}\n          placeholder=\"Логин\"\n          onChange={(e) => {\n            setErrorMsg(undefined);\n            setLogin(e.target.value);\n          }}\n        />\n\n        <Input\n          type=\"password\"\n          value={password}\n          placeholder=\"Пароль\"\n          onChange={(e) => {\n            setErrorMsg(undefined);\n            setPassword(e.target.value);\n          }}\n        />\n\n        <Button\n          label=\"Войти\"\n          onClick={submitLogin}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default Login;","import styles from \"./List.module.scss\";\nimport { useParams } from 'react-router-dom'\nimport { useEffect, useState } from \"react\";\nimport { getGenre } from \"../../api/genres\";\nimport { getDirector } from \"../../api/directors\";\nimport { getFavorites } from \"../../api/user\";\nimport Header from \"../../components/header/Header\";\nimport Loader from \"../../components/loader/Loader\";\nimport MovieCardSet from \"../../components/movieCardSet/MovieCardSet\";\nimport {getMovies} from \"../../api/movies\";\n\nexport const List = ({ title, type }) => {\n  const { id } = useParams();\n  const [state, setState] = useState({loading: true, content: []});\n  const [movies, setMovies] = useState({loading: true, content: []});\n\n  useEffect(() => {\n    switch (type) {\n      case \"genre\":\n        (async () => {\n          const { data } = await getGenre(id);\n          setState({loading: false, content: data})\n        })();\n        (async () => {\n          const { data } = await getMovies();\n          setMovies({loading: false, content: data.filter(movie => movie.genre.id === Number(id))});\n        })();\n        break;\n\n      case \"director\":\n        (async () => {\n          const { data } = await getDirector(id);\n          setState({loading: false, content: data});\n        })();\n        (async () => {\n          const { data } = await getMovies();\n          setMovies({loading: false, content: data.filter(movie => movie.director.id === Number(id))});\n        })();\n        break;\n\n      case \"favorites\":\n        (async () => {\n          const { data } = await getFavorites();\n          setMovies({loading: false, content: data});\n        })();\n        break;\n\n      default:\n        break;\n\n    }\n  }, [id, type]);\n\n  return (\n    <div className={styles.List}>\n      <Header\n        title={`${title}${state.content.name ? \": \" + state.content.name : \"\"}`}\n        subtitle=\"Sky movies\"\n        type=\"secondary\"\n      />\n\n      <div className={styles.List__cards}>\n        {movies.loading && <Loader />}\n        {movies.content.length > 0 &&\n          <MovieCardSet movies={movies.content} />\n        }\n      </div>\n    </div>\n  )\n};\n\nexport default List;","import styles from \"./Movie.module.scss\";\nimport { useParams } from 'react-router-dom';\nimport { useEffect, useState } from \"react\";\nimport { getMovies, getMovie } from \"../../api/movies\";\nimport { getYoutubePreview } from \"../../utils/utils\";\nimport Button from \"../../components/button/Button\";\nimport Heading from \"../../components/heading/Heading\";\nimport MovieCardSet from \"../../components/movieCardSet/MovieCardSet\";\nimport {deleteFavorites, getFavorites, setFavorites} from \"../../api/user\";\nimport {tokenChecker} from \"../../utils/token\";\nimport {getCookie} from \"../../utils/cookies\";\n\nexport const Movie = () => {\n  const [movies, setMovies] = useState({loading: true, content: []});\n  const [movie, setMovie] = useState({loading: true, content: {}});\n  const [isBookmarked, setIsBookmarked] = useState(false);\n  const { id } = useParams();\n\n  useEffect(() => {\n    getFavorites()\n      .then(res => {\n        if (res.data.find(item => item.id === Number(id))) {\n          setIsBookmarked(true);\n        }\n      })\n      .catch(error => {\n        console.error(error.response);\n      })\n  }, [id, isBookmarked]);\n\n  useEffect(() => {\n    getMovie(id)\n      .then(res => {\n        setMovie({loading: false, content: res.data});\n      })\n      .catch(error => {\n        console.log(error.response);\n      });\n\n    getMovies()\n      .then(res => {\n        setMovies({loading: false, content: res.data});\n      })\n      .catch(error => {\n        console.log(error.response);\n      });\n  }, [id]);\n\n  const toggleBookmark = () => {\n    isBookmarked ?\n      deleteFavorites(id)\n        .then(() => {\n          setIsBookmarked(false);\n        })\n        .catch(error => {\n          tokenChecker(error);\n          console.error(error.response);\n        })\n      :\n      setFavorites(id)\n        .then(() => {\n          setIsBookmarked(true);\n        })\n        .catch(error => {\n          tokenChecker(error);\n          console.error(error.response);\n        })\n  };\n\n  return(\n    <div className={styles.Movie}>\n      <div className={styles.Cover}>\n        <div className={styles.Cover__information}>\n          <div className={styles.Cover__title}>{movie.content.title}</div>\n          <div className={styles.Cover__data}>\n            <span>{movie.content.year}</span><span>{movie.content.rating}</span>\n          </div>\n        </div>\n        <div className={styles.Cover__layer} />\n        {movie.content.trailer &&\n          <img src={getYoutubePreview(movie.content.trailer)} alt=\"Cover\"/>\n        }\n      </div>\n\n      <div className={styles.Movie__wrapper}>\n        <div className={styles.Movie__description}>\n          {movie.content.description}\n        </div>\n\n        <div className={styles.Movie__actions}>\n          {movie.content.trailer &&\n            <Button\n              label=\"Смотреть\"\n              type=\"dark\"\n              onClick={() => {\n                window.open(movie.content.trailer, \"_blank\");\n              }}\n            />\n          }\n          {getCookie(\"AccessToken\") &&\n            <Button\n              label={isBookmarked ? \"Удалить из избранного\" : \"Добавить в избранное\"}\n              type=\"dark\"\n              onClick={toggleBookmark}\n            />}\n        </div>\n\n        <div className={styles.Movie__selection}>\n          <Heading label=\"Похожие фильмы\"/>\n          <MovieCardSet\n            movies={movies.content.filter(item => item.genre.id === movie.content.genre.id)}\n            limit={4}\n          />\n        </div>\n      </div>\n\n    </div>\n  )\n}\n\nexport default Movie;","import styles from \"./Menu.module.scss\";\nimport { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { deleteCookie, getCookie } from \"../../utils/cookies\";\nimport { useNavigate } from 'react-router-dom';\n\n\nexport const Menu = () => {\n  const navigate = useNavigate();\n  const [isOpen, setIsOpen] = useState(false);\n\n  const toggleMenu = () => {\n    setIsOpen(!isOpen);\n  }\n\n\n  const clearCookies = () => {\n    setIsOpen(false);\n    deleteCookie(\"AccessToken\");\n    deleteCookie(\"RefreshToken\");\n  }\n\n  return (\n    <div className={styles.Menu}>\n      <div\n        className={styles.Menu__button}\n        onClick={toggleMenu}\n      >\n        <span />\n      </div>\n      <div\n        className={styles.Menu__back}\n        onClick={() => navigate(-1)}\n      >\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"17\" height=\"17\" viewBox=\"0 0 17 17\" fill=\"none\">\n          <path d=\"M16.9786 7.26392H4.80856L10.3936 1.67892L8.97856 0.263916L0.978561 8.26392L8.97856 16.2639L10.3936 14.8489L4.80856 9.26392H16.9786V7.26392Z\" fill=\"white\"/>\n        </svg>\n      </div>\n\n      {isOpen &&\n        <div className={styles.Menu__panel}>\n\n          <Link\n            onClick={toggleMenu}\n            className={styles.Menu__link}\n            to=\"/\">Главная\n          </Link>\n\n          {getCookie(\"AccessToken\") &&\n            <Link\n              onClick={toggleMenu}\n              className={styles.Menu__link}\n              to=\"/profile\">\n              Профиль\n            </Link>}\n\n          {getCookie(\"AccessToken\") &&\n          <Link\n            onClick={toggleMenu}\n            className={styles.Menu__link}\n            to=\"/favorites\">\n            Избранное\n          </Link>}\n\n          {getCookie(\"AccessToken\") &&\n            <Link\n              onClick={clearCookies}\n              className={styles.Menu__link}\n              to=\"/login\">\n              Выход\n            </Link>}\n\n          {!getCookie(\"AccessToken\") &&\n            <Link\n              onClick={toggleMenu}\n              className={styles.Menu__link}\n              to=\"/login\">\n              Вход\n            </Link>}\n\n          {!getCookie(\"AccessToken\") &&\n            <Link\n              onClick={toggleMenu}\n              className={styles.Menu__link}\n              to=\"/register\">\n              Регистрация\n            </Link>}\n\n        </div>\n      }\n    </div>\n  )\n};\n\nexport default Menu;","import './App.scss';\nimport { HashRouter as Router, Routes, Route } from \"react-router-dom\";\nimport { Homepage } from \"./pages/homepage/Homepage\";\nimport Profile from \"./pages/profile/Profile\";\nimport Register from \"./pages/register/Register\";\nimport Login from \"./pages/login/Login\";\nimport List from \"./pages/list/List\";\nimport Movie from \"./pages/movie/Movie\";\nimport Menu from \"./components/menu/Menu\";\n\nfunction App() {\n\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <div className=\"App\">\n        <div className=\"App__wrapper\">\n          <Menu />\n          <Routes>\n            <Route path=\"/\" element={<Homepage />} />\n\n            <Route path=\"/login\" element={<Login />} />\n            <Route path=\"/register\" element={<Register />} />\n\n            <Route path=\"/profile\" element={<Profile />} />\n\n            <Route path=\"/favorites\" element={<List title=\"Избранное\" type=\"favorites\"/>} />\n            <Route path=\"/genre/:id\" element={<List title=\"Жанр\" type=\"genre\" />} />\n            <Route path=\"/director/:id\" element={<List title=\"Режиссер\" type=\"director\" />} />\n            <Route path=\"/playlist/:id\" element={<List title=\"Плейлист\" type=\"playlist\" />} />\n\n            <Route path=\"/movie/:id\" element={<Movie />} />\n          </Routes>\n        </div>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}